<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Cairo  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="Cairo  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          Cairo 1.16.0 Docs
        </a>
         (66% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/rhx/SwiftCairo">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="dash-feed://http%3A%2F%2Frhx.github.io%2FSwiftCairo%2Fdocsets%2FCairo.xml">
            <img class="header-icon" src="img/dash.png"/>
            Install in Dash
          </a>
        </p>
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">Cairo Reference</a>
      <img class="carat" src="img/carat.png" />
      Cairo  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Context.html">Context</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Device.html">Device</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/FontFace.html">FontFace</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/FontOptions.html">FontOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Matrix.html">Matrix</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Path.html">Path</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Pattern.html">Pattern</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Rectangle.html">Rectangle</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/RectangleInt.html">RectangleInt</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Region.html">Region</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ScaledFont.html">ScaledFont</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Surface.html">Surface</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Antialias.html">Antialias</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Content.html">Content</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/DeviceType.html">DeviceType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Extend.html">Extend</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/FillRule.html">FillRule</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Filter.html">Filter</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/FontSlant.html">FontSlant</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/FontType.html">FontType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/FontWeight.html">FontWeight</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Format.html">Format</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/HintMetrics.html">HintMetrics</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/HintStyle.html">HintStyle</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/LineCap.html">LineCap</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/LineJoin.html">LineJoin</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Operator.html">Operator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/PathDataType.html">PathDataType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/PatternType.html">PatternType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/RegionOverlap.html">RegionOverlap</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Status.html">Status</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/SubpixelOrder.html">SubpixelOrder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/SurfaceType.html">SurfaceType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/TextClusterFlags.html">TextClusterFlags</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/_cairo.html">_cairo</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/cairo_font_slant_t.html">cairo_font_slant_t</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/cairo_font_weight_t.html">cairo_font_weight_t</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/cairo_hint_metrics_t.html">cairo_hint_metrics_t</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/cairo_hint_style_t.html">cairo_hint_style_t</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/cairo_subpixel_order_t.html">cairo_subpixel_order_t</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:5Cairo18imageSurfaceCreate6format5width6heightAA0C0CSo07_cairo_E0V_S2itF">imageSurfaceCreate(format:width:height:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ContextProtocol.html">ContextProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/DeviceProtocol.html">DeviceProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/FontFaceProtocol.html">FontFaceProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/FontOptionsProtocol.html">FontOptionsProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/MatrixProtocol.html">MatrixProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/PathProtocol.html">PathProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/PatternProtocol.html">PatternProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/RectangleIntProtocol.html">RectangleIntProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/RectangleProtocol.html">RectangleProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/RegionProtocol.html">RegionProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ScaledFontProtocol.html">ScaledFontProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/SurfaceProtocol.html">SurfaceProtocol</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ContextRef.html">ContextRef</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/DeviceRef.html">DeviceRef</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/FontFaceRef.html">FontFaceRef</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/FontOptionsRef.html">FontOptionsRef</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/MatrixRef.html">MatrixRef</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/PathRef.html">PathRef</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/PatternRef.html">PatternRef</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/RectangleIntRef.html">RectangleIntRef</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/RectangleRef.html">RectangleRef</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/RegionRef.html">RegionRef</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ScaledFontRef.html">ScaledFontRef</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SurfaceRef.html">SurfaceRef</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/cairo.html">cairo</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo9Antialiasa">Antialias</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo7Contenta">Content</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo10DeviceTypea">DeviceType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo6Extenda">Extend</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo8FillRulea">FillRule</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo6Filtera">Filter</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo9FontSlanta">FontSlant</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo8FontTypea">FontType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo10FontWeighta">FontWeight</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo6Formata">Format</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo11HintMetricsa">HintMetrics</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo9HintStylea">HintStyle</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo7LineCapa">LineCap</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo8LineJoina">LineJoin</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo8Operatora">Operator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo12PathDataTypea">PathDataType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo11PatternTypea">PatternType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo13RegionOverlapa">RegionOverlap</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo6Statusa">Status</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo13SubpixelOrdera">SubpixelOrder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo11SurfaceTypea">SurfaceType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo16TextClusterFlagsa">TextClusterFlags</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo14_cairo_Contexta">_cairo_Context</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo22_cairo_ContextProtocola">_cairo_ContextProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo13_cairo_Devicea">_cairo_Device</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo21_cairo_DeviceProtocola">_cairo_DeviceProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo15_cairo_FontFacea">_cairo_FontFace</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo23_cairo_FontFaceProtocola">_cairo_FontFaceProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo18_cairo_FontOptionsa">_cairo_FontOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo26_cairo_FontOptionsProtocola">_cairo_FontOptionsProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo13_cairo_Matrixa">_cairo_Matrix</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo21_cairo_MatrixProtocola">_cairo_MatrixProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo11_cairo_Patha">_cairo_Path</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo19_cairo_PathProtocola">_cairo_PathProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo14_cairo_Patterna">_cairo_Pattern</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo22_cairo_PatternProtocola">_cairo_PatternProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo16_cairo_Rectanglea">_cairo_Rectangle</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo19_cairo_RectangleInta">_cairo_RectangleInt</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo27_cairo_RectangleIntProtocola">_cairo_RectangleIntProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo24_cairo_RectangleProtocola">_cairo_RectangleProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo13_cairo_Regiona">_cairo_Region</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo21_cairo_RegionProtocola">_cairo_RegionProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo17_cairo_ScaledFonta">_cairo_ScaledFont</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo25_cairo_ScaledFontProtocola">_cairo_ScaledFontProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo14_cairo_Surfacea">_cairo_Surface</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Cairo22_cairo_SurfaceProtocola">_cairo_SurfaceProtocol</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            
            <h1 id='swiftcairo' class='heading'>SwiftCairo</h1>

<p>A Swift wrapper around cairo-1.x that is largely auto-generated from gobject-introspection.
For up to date (auto-generated) reference documentation, see <a href="https://rhx.github.io/SwiftCairo/">https://rhx.github.io/SwiftCairo/</a></p>

<p><img src="https://github.com/rhx/SwiftCairo/workflows/macOS%2011/badge.svg" alt="macOS 11 build">
<img src="https://github.com/rhx/SwiftCairo/workflows/macOS%2010.15/badge.svg" alt="macOS 10.15 build">
<img src="https://github.com/rhx/SwiftCairo/workflows/Ubuntu%2020.04/badge.svg" alt="Ubuntu 20.04 build">
<img src="https://github.com/rhx/SwiftCairo/workflows/Ubuntu%2018.04/badge.svg" alt="Ubuntu 18.04 build"></p>
<h2 id='what-is-new' class='heading'>What is new?</h2>

<p>Version 12 of gir2swift pulls in <a href="https://github.com/rhx/gir2swift/pull/10">PR#10</a>, addressing several issues:</p>

<ul>
<li>Improvements to the Build experience and LSP <a href="https://github.com/rhx/SwiftGtk/issues/34">rhx/SwiftGtk#34</a></li>
<li>Fix issues with LLDB <a href="https://github.com/rhx/SwiftGtk/issues/39">rhx/SwiftGtk#39</a></li>
<li><strong>Controversial:</strong> Implicitly marks all declarations named &ldquo;priv&rdquo; as if they had attribute <code>private=1</code></li>
<li>Prevents all &ldquo;Private&rdquo; records from generating unless generated in their instance record

<ul>
<li><code>-a</code> option generates all records</li>
</ul></li>
<li>Introduces CI</li>
<li>For Class metadata types no longer generates class wrappers. Ref structs now contain static method which returnes the GType of the class and instance of the Class metatype wrapped in the Ref struct.</li>
<li>Adds final class GWeak<T> where T could be any Ref struct of a type which supports ARC. This class is a property wrapper which contains weak reference to any instance of T. This is especially beneficial for capture lists.</li>
<li>Adds support for weak observation.</li>
<li>Constructors and factories of GObjectInitiallyUnowned classes now consume floating reference upon initialisation as advised by <a href="https://developer.gnome.org/gobject/stable/gobject-The-Base-Object-Type.html">the GObject documentation</a></li>
</ul>

<p>Partially implemented:</p>

<ul>
<li>Typed signal generation. Issues shown in <a href="https://github.com/rhx/SwiftGtk/issues/35">rhx/SwiftGtk#35</a> hat remain to be addressed are listed here: <a href="https://github.com/mikolasstuchlik/gir2swift/pull/2">mikolasstuchlik/gir2swift#2</a>.</li>
</ul>
<h3 id='other-notable-changes' class='heading'>Other notable changes</h3>

<p>Version 11 introduces a new type system into <code>gir2swift</code>,
to ensure it has a representation of the underlying types.
This is necessary for Swift 5.3 onwards, which requires more stringent casts.
As a consequence, accessors can accept and return idiomatic Swift rather than
underlying types or pointers.
This means that a lot of the changes will be source-breaking for code that
was compiled against libraries built with earlier versions of <code>gir2swift</code>.</p>
<div class="aside aside-requires">
    <p class="aside-title">Requires</p>
    Requires Swift 5.2 or later

</div><ul>
<li>Wrapper code is now <code>@inlinable</code> to enable the compiler to optimise away most of the wrappers</li>
<li>Functions that take or return records now are templated instead of using the type-erased Protocol</li>
<li><code>ErrorType</code> has been renamed <code>GLibError</code> to ensure it neither clashes with <code>Swift.Error</code> nor the <code>GLib.ErrorType</code>  scanner enum</li>
</ul>
<h2 id='prerequisites' class='heading'>Prerequisites</h2>
<h3 id='swift' class='heading'>Swift</h3>

<p>To build, you need at least Swift 5.2 (Swift 5.3+ should work fine), download from <a href="https://swift.org/download/">https://swift.org/download/</a> &ndash; if you are using macOS, make sure you have the command line tools installed as well).  Test that your compiler works using <code>swift --version</code>, which should give you something like</p>
<pre class="highlight plaintext"><code>$ swift --version
Apple Swift version 5.3.2 (swiftlang-1200.0.45 clang-1200.0.32.28)
Target: x86_64-apple-darwin20.3.0
</code></pre>

<p>on macOS, or on Linux you should get something like:</p>
<pre class="highlight plaintext"><code>$ swift --version
Swift version 5.3.2 (swift-5.3.2-RELEASE)
Target: x86_64-unknown-linux-gnu
</code></pre>
<h3 id='glib-2-46-and-cairo-1-14-10-or-higher' class='heading'>GLib 2.46 and Cairo 1.14.10 or higher</h3>

<p>These Swift wrappers have been tested with glib-2.46, 2.48, 2.52, 2.56, 2.58, 2.60, 2.62, 2.64, and 2.66.  They should work with higher versions, but YMMV.  Also make sure you have <code>gobject-introspection</code> and its <code>.gir</code> files installed.</p>
<h4 id='linux' class='heading'>Linux</h4>
<h5 id='ubuntu' class='heading'>Ubuntu</h5>

<p>On Ubuntu 16.04 and 18.04, you can use the gtk that comes with the distribution.  Just install with the <code>apt</code> package manager:</p>
<pre class="highlight plaintext"><code>sudo apt update
sudo apt install libcairo2-dev libcairo-gobject2 gobject-introspection libgirepository1.0-dev libxml2-dev
</code></pre>

<p>If you prefer a newer version of gtk, you can also install it from the GNOME 3 Staging PPA (see <a href="https://launchpad.net/%7Egnome3-team/+archive/ubuntu/gnome3-staging">https://launchpad.net/~gnome3-team/+archive/ubuntu/gnome3-staging</a>), but be aware that this can be a bit dangerous (as this removes packages that can be vital, particularly if you use a GNOME-based desktop), so only do this if you know what you are doing:</p>
<pre class="highlight plaintext"><code>sudo add-apt-repository ppa:gnome3-team/gnome3-staging
sudo apt update
sudo apt dist-upgrade
sudo apt install libcairo2-dev libcairo-gobject2 gobject-introspection libgirepository1.0-dev libxml2-dev
</code></pre>
<h5 id='fedora' class='heading'>Fedora</h5>

<p>On Fedora 29, you can use the gtk that comes with the distribution.  Just install with the <code>dnf</code> package manager:</p>
<pre class="highlight plaintext"><code>sudo dnf install cairo-devel cairo-gobject-devel glib2-devel gobject-introspection-devel libxml2-devel
</code></pre>
<h4 id='macos' class='heading'>macOS</h4>

<p>On macOS, you can install glib and Cairo using HomeBrew (for setup instructions, see <a href="http://brew.sh">http://brew.sh</a>).  Once you have a running HomeBrew installation, you can use it to install a native version of cairo:</p>
<pre class="highlight plaintext"><code>brew update
brew install cairo glib glib-networking gobject-introspection pkg-config
</code></pre>
<h2 id='usage' class='heading'>Usage</h2>

<p>Normally, you don&rsquo;t build this package directly (but for testing you can - see &lsquo;Building&rsquo; below). Instead you need to embed SwiftCairo into your own project using the <a href="https://swift.org/package-manager/">Swift Package Manager</a>.  After installing the prerequisites (see &lsquo;Prerequisites&rsquo; below), add <code>SwiftCairo</code> as a dependency to your <code>Package.swift</code> file, e.g.:</p>
<pre class="highlight plaintext"><code>// swift-tools-version:5.3

import PackageDescription

let package = Package(name: "MyPackage",
    dependencies: [
        .package(name: "gir2swift", url: "https://github.com/rhx/gir2swift.git", .branch("main")),
        .package(name: "Cairo", url: "https://github.com/rhx/SwiftCairo.git", .branch("main")),
    ],
    targets: [.target(name: "MyPackage", dependencies: ["Cairo"])]
)
</code></pre>
<h2 id='building' class='heading'>Building</h2>

<p>Normally, you don&rsquo;t build this package directly, but you embed it into your own project (see &lsquo;Usage&rsquo; above).  However, you can build and test this module separately to ensure that everything works.  Make sure you have all the prerequisites installed (see above).  After that, you can simply clone this repository and build the command line executable (be patient, this will download all the required dependencies and take a while to compile) using</p>
<pre class="highlight plaintext"><code>git clone https://github.com/rhx/SwiftCairo.git
cd SwiftCairo
./run-gir2swift.sh
swift build
swift test
</code></pre>

<p>Please note that on macOS, due to a bug currently in the Swift Package Manager,
you need to pass in the build flags manually, i.e. instead of <code>swift build</code> and <code>swift test</code> you can run</p>
<pre class="highlight plaintext"><code>swift build `./run-gir2swift.sh flags -noUpdate`
swift test  `./run-gir2swift.sh flags -noUpdate`
</code></pre>
<h3 id='xcode' class='heading'>Xcode</h3>

<p>On macOS, you can build the project using Xcode instead.  To do this, you need to create an Xcode project first, then open the project in the Xcode IDE:</p>
<pre class="highlight plaintext"><code>./xcodegen.sh
open Cairo.xcodeproj
</code></pre>

<p>After that, use the (usual) Build and Test buttons to build/test this package.</p>
<h2 id='documentation' class='heading'>Documentation</h2>

<p>You can find reference documentation inside the <a href="https://rhx.github.io/SwiftCairo/">docs</a> folder.
This was generated using the <a href="https://github.com/realm/jazzy">jazzy</a> tool.
If you want to generate your own documentation, matching your local installation,
you can use the <code>generate-documentation.sh</code> script in the repository.
Unfortunately, at this stage <a href="https://github.com/realm/jazzy">jazzy</a> only works on macOS (and crashes under Linux), so this will currently only work on a Mac.</p>
<h2 id='troubleshooting' class='heading'>Troubleshooting</h2>

<p>Here are some common errors you might encounter and how to fix them.</p>
<h3 id='old-swift-toolchain-or-xcode' class='heading'>Old Swift toolchain or Xcode</h3>

<p>If you get an error such as</p>
<pre class="highlight plaintext"><code>$ ./build.sh 
error: unable to invoke subcommand: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/swift-package (No such file or directory)
</code></pre>

<p>this probably means that your Swift toolchain is too old.  Make sure the latest toolchain is the one that is found when you run the Swift compiler (see above).</p>

<p>If you get an older version, make sure that the right version of the swift compiler is found first in your <code>PATH</code>.  On macOS, use xcode-select to select and install the latest version, e.g.:</p>
<pre class="highlight plaintext"><code>sudo xcode-select -s /Applications/Xcode.app
xcode-select --install
</code></pre>
<h3 id='known-issues' class='heading'>Known Issues</h3>

<ul>
<li><p>When building, a lot of warnings appear.  This is largely an issue with automatic <code>RawRepresentable</code> conformance in the Swift Standard library.  As a workaround, you can turn this off by passing the <code>-Xswiftc -suppress-warnings</code> parameter when building.</p></li>
<li><p>The current build system does not support directory paths with spaces (e.g. the <code>My Drive</code> directory used by Google Drive File Stream).</p></li>
<li><p>BUILD_DIR is not supported in the current build system.</p></li>
</ul>

<p>As a workaround, you can use the old build scripts, e.g. <code>./build.sh</code> (instead of <code>run-gir2swift.sh</code> and <code>swift build</code>) to build a package.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2021 <a class="link" href="https://experts.griffith.edu.au/9237-rene-hexel" target="_blank" rel="external">Ren&eacute;&nbsp;Hexel</a>. All rights reserved. (Last updated: 2021-01-17)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.6</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
